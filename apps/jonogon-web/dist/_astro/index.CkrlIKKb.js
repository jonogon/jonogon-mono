import{c as P,G as x,j as e,a as m,b as L,C as y,u as g,d as h,L as $,B as c,t as j,o as v,D as R,e as S,f as k,g as z}from"./App.CSUcjDxE.js";import{r as w}from"./index.CC7gbGQC.js";import{C as T,a as F,b as M,c as I,T as d,d as N}from"./card.Dtb4GHeN.js";import{u as p}from"./useQueryParams.B7dX7qDd.js";/* empty css                        *//**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=P("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);function U(o){return x({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor"},child:[]}]})(o)}function q(o){return x({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:"currentColor"},child:[]}]})(o)}const D=({className:o,...n})=>e.jsxDEV("nav",{role:"navigation","aria-label":"pagination",className:m("mx-auto flex w-full justify-center",o),...n},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/components/ui/pagination.tsx",lineNumber:8,columnNumber:5},void 0);D.displayName="Pagination";const V=w.forwardRef(({className:o,...n},s)=>e.jsxDEV("ul",{ref:s,className:m("flex flex-row items-center gap-1",o),...n},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/components/ui/pagination.tsx",lineNumber:21,columnNumber:5},void 0));V.displayName="PaginationContent";const r=w.forwardRef(({className:o,...n},s)=>e.jsxDEV("li",{ref:s,className:m("",o),...n},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/components/ui/pagination.tsx",lineNumber:33,columnNumber:5},void 0));r.displayName="PaginationItem";const u=({className:o,isActive:n,size:s="icon",...i})=>e.jsxDEV("a",{"aria-current":n?"page":void 0,className:m(L({variant:n?"outline":"ghost",size:s}),o),...i},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/components/ui/pagination.tsx",lineNumber:48,columnNumber:5},void 0);u.displayName="PaginationLink";const E=({className:o,...n})=>e.jsxDEV(u,{"aria-label":"Go to previous page",size:"default",className:m("gap-1 pl-2.5",o),...n,children:[e.jsxDEV(B,{className:"h-4 w-4"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/components/ui/pagination.tsx",lineNumber:71,columnNumber:9},void 0),e.jsxDEV("span",{children:"Previous"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/components/ui/pagination.tsx",lineNumber:72,columnNumber:9},void 0)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/components/ui/pagination.tsx",lineNumber:66,columnNumber:5},void 0);E.displayName="PaginationPrevious";const C=({className:o,...n})=>e.jsxDEV(u,{"aria-label":"Go to next page",size:"default",className:m("gap-1 pr-2.5",o),...n,children:[e.jsxDEV("span",{children:"Next"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/components/ui/pagination.tsx",lineNumber:86,columnNumber:9},void 0),e.jsxDEV(y,{className:"h-4 w-4"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/components/ui/pagination.tsx",lineNumber:87,columnNumber:9},void 0)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/components/ui/pagination.tsx",lineNumber:81,columnNumber:5},void 0);C.displayName="PaginationNext";const A=o=>{const n=o.getDate(),s=o.toLocaleString("default",{month:"long"}),i=o.getFullYear();return`${n}${(l=>{if(l>3&&l<21)return"th";switch(l%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(n)} ${s}, ${i}`};function _(o){const n=g(),[,s]=h(),i=o.upvotes+o.downvotes;return e.jsxDEV(T,{className:"",children:[e.jsxDEV(F,{className:"",children:e.jsxDEV(M,{children:[e.jsxDEV("div",{className:"font-normal text-base text-neutral-500 pb-2",children:[o.name,", ",A(o.date)," — To,"," ",e.jsxDEV("i",{children:o.target},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:42,columnNumber:25},this)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:37,columnNumber:21},this),e.jsxDEV("div",{children:e.jsxDEV($,{href:`/petitions/${o.id}`,className:"leading-snug font-bold font-serif text-2xl align-middle",children:o.title},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:45,columnNumber:25},this)},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:44,columnNumber:21},this)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:36,columnNumber:17},this)},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:35,columnNumber:13},this),e.jsxDEV(I,{className:"flex items-center justify-between",children:o.mode==="formalized"?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("p",{className:"font-semibold text-red-600",children:[i," ",i!==1?"votes":"vote"]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:58,columnNumber:25},this),e.jsxDEV(c,{size:"sm",variant:"outline",onClick:()=>{const a=`/petitions/${o.id}`;s(n?a:`/login?next=${encodeURIComponent(a)}`)},children:"VOTE"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:61,columnNumber:25},this)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:57,columnNumber:21},this):o.mode==="request"?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex flex-row gap-6",children:[e.jsxDEV("div",{className:"flex flex-row gap-2",children:[e.jsxDEV(d,{className:"w-5 h-5 text-green-500"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:80,columnNumber:33},this),o.upvotes]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:79,columnNumber:29},this),e.jsxDEV("div",{className:"flex flex-row gap-2",children:[e.jsxDEV(N,{className:"w-5 h-5 text-red-500"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:86,columnNumber:33},this),o.downvotes]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:85,columnNumber:29},this)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:78,columnNumber:25},this),e.jsxDEV(c,{size:"sm",variant:"outline",onClick:()=>{const a=`/petitions/${o.id}`;s(n?a:`/login?next=${encodeURIComponent(a)}`)},children:"VOTE"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:90,columnNumber:25},this)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:77,columnNumber:21},this):o.mode==="own"?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex flex-row gap-6",children:[e.jsxDEV("div",{className:"flex flex-row gap-2",children:[e.jsxDEV(d,{className:"w-5 h-5 text-green-500"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:109,columnNumber:33},this),o.upvotes]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:108,columnNumber:29},this),e.jsxDEV("div",{className:"flex flex-row gap-2",children:[e.jsxDEV(N,{className:"w-5 h-5 text-red-500"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:115,columnNumber:33},this),o.downvotes]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:114,columnNumber:29},this)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:107,columnNumber:25},this),e.jsxDEV("div",{children:["STATUS: ",o.status]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:119,columnNumber:25},this)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:106,columnNumber:21},this):null},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:55,columnNumber:13},this)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionCard.tsx",lineNumber:34,columnNumber:9},this)}const G=()=>{const[o,n]=p(),s=`${o.type}`=="requests"?"request":`${o.type}`=="own"?"own":"formalized",i=o.page.length?+`${o.page}`:0,{data:a}=j.petitions.list.useQuery({filter:s,page:i,sort:`${o.sort}`=="latest"?"time":"votes"}),l=a?.data??[];return e.jsxDEV("div",{children:[e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"15px"},children:l.slice(0,32).map(t=>e.jsxDEV(_,{id:t.data.id,mode:s,status:t.data.status,name:t.extras.user.name??"",title:t.data.title??"Untitled Petition",date:new Date(t.data.submitted_at??"1970-01-01"),target:t.data.target??"Some Ministry",upvotes:Number(t.data.petition_upvote_count)??0,downvotes:Number(t.data.petition_downvote_count)??0},t.data.id??0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionList.tsx",lineNumber:48,columnNumber:25},void 0))},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionList.tsx",lineNumber:40,columnNumber:13},void 0),e.jsxDEV("div",{className:"py-4",children:e.jsxDEV(D,{children:e.jsxDEV(V,{children:[i!==0?e.jsxDEV(r,{children:e.jsxDEV(E,{onClick:()=>n(t=>({...t,page:[`${i-1}`]}))},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionList.tsx",lineNumber:70,columnNumber:33},void 0)},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionList.tsx",lineNumber:69,columnNumber:29},void 0):null,e.jsxDEV(r,{children:e.jsxDEV(u,{children:["Page ",i+1]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionList.tsx",lineNumber:82,columnNumber:29},void 0)},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionList.tsx",lineNumber:81,columnNumber:25},void 0),l.length===33?e.jsxDEV(r,{children:e.jsxDEV(C,{onClick:()=>n(t=>({...t,page:[`${i+1}`]}))},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionList.tsx",lineNumber:87,columnNumber:33},void 0)},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionList.tsx",lineNumber:86,columnNumber:29},void 0):null]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionList.tsx",lineNumber:67,columnNumber:21},void 0)},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionList.tsx",lineNumber:66,columnNumber:17},void 0)},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionList.tsx",lineNumber:65,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/components/PetitionList.tsx",lineNumber:39,columnNumber:9},void 0)},O=v(()=>{const o=g(),[,n]=h(),{mutate:s}=j.petitions.create.useMutation({onSuccess(a){n(`/petitions/${a.data.id}/edit?fresh=true`)}}),i=async()=>{o?s():n(`/login?next=${encodeURIComponent("/petitions/new")}`)};return e.jsxDEV(c,{size:"lg",className:"bg-red-500 font-bold shadow-2xl drop-shadow-xl",onClick:i,children:o?"Submit a দাবি":"Login to Submit a দাবি"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/components/custom/PetitionActionButton.tsx",lineNumber:26,columnNumber:9},void 0)}),Z=()=>e.jsxDEV("div",{className:"fixed bottom-0 left-0 w-full bg-background/50",children:e.jsxDEV("div",{className:"max-w-screen-sm w-full mx-auto flex flex-col py-4 px-8",children:e.jsxDEV(O,{},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:26,columnNumber:13},void 0)},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:22,columnNumber:9},void 0)},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:21,columnNumber:5},void 0);function b({type:o,children:n}){const[s,i]=p();return e.jsxDEV("button",{className:m("border-b-2 border-transparent px-3 pb-1 capitalize select-none",{"border-black":(`${s.type}`||"formalized")===o}),onClick:()=>i(a=>({...a,type:[o]})),children:n},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:40,columnNumber:9},this)}function f({sort:o,children:n}){const[s,i]=p();return e.jsxDEV(z,{className:"capitalize flex items-center justify-between",onSelect:()=>i(a=>({...a,sort:[o]})),children:[e.jsxDEV("span",{children:n},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:65,columnNumber:13},this),(`${s.sort}`||"votes")===o?e.jsxDEV(q,{},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:66,columnNumber:55},this):null]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:62,columnNumber:9},this)}const W=v(()=>{const[o]=p();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"flex flex-col gap-4 max-w-screen-sm mx-auto pb-16 px-4",children:[e.jsxDEV("h1",{className:"mt-12 my-5 text-3xl md:text-4xl",children:`${o.type}`=="own"?"Your Own দাবিs":"জনগণের দাবি"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:80,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center justify-between my-2",children:[`${o.type}`=="own"?null:e.jsxDEV("div",{children:[e.jsxDEV(b,{type:"formalized",children:"Formalized দাবিs"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:88,columnNumber:29},void 0),e.jsxDEV(b,{type:"requests",children:"সব দাবি"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:89,columnNumber:29},void 0)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:87,columnNumber:25},void 0),e.jsxDEV(R,{children:[e.jsxDEV(S,{children:e.jsxDEV("button",{className:"flex items-center gap-2 pb-1",children:[e.jsxDEV("span",{className:"capitalize text-sm select-none",children:`${o.sort}`=="latest"?"Latest":"বেশি Votes"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:95,columnNumber:33},void 0),e.jsxDEV(U,{},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:100,columnNumber:33},void 0)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:94,columnNumber:29},void 0)},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:93,columnNumber:25},void 0),e.jsxDEV(k,{align:"end",onCloseAutoFocus:n=>n.preventDefault(),children:[e.jsxDEV(f,{sort:"votes",children:"বেশি Votes"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:106,columnNumber:29},void 0),e.jsxDEV(f,{sort:"latest",children:"Latest"},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:107,columnNumber:29},void 0)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:103,columnNumber:25},void 0)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:92,columnNumber:21},void 0)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:85,columnNumber:17},void 0),e.jsxDEV(G,{},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:111,columnNumber:17},void 0)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:79,columnNumber:13},void 0),e.jsxDEV(Z,{},void 0,!1,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mono/apps/jonogon-web/src/app/pages/home/index.tsx",lineNumber:78,columnNumber:9},void 0)});export{W as default};
